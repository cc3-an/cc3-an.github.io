
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Grandes Ideas en Arquitectura de Computadoras">
      
      
        <meta name="author" content="CC-3">
      
      
        <link rel="canonical" href="https://cc3-an.github.io/projects/pj01/">
      
      
        <link rel="prev" href="../../labs/lab05/">
      
      
        <link rel="next" href="../pj02/">
      
      <link rel="icon" href="../../assets/img/common/logo.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.8">
    
    
      
        <title>01: Snake (Culebrita) - Estructura de Máquinas</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.ded33207.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#proyecto-1-c-snake-culebrita" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="Estructura de Máquinas" class="md-header__button md-logo" aria-label="Estructura de Máquinas" data-md-component="logo">
      
  <img src="../../assets/img/common/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Estructura de Máquinas
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              01: Snake (Culebrita)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Pestañas" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Inicio
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../labs/lab00/" class="md-tabs__link">
        Laboratorios
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        Proyectos
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../tutorials/install/" class="md-tabs__link">
        Tutoriales
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Estructura de Máquinas" class="md-nav__button md-logo" aria-label="Estructura de Máquinas" data-md-component="logo">
      
  <img src="../../assets/img/common/logo.png" alt="logo">

    </a>
    Estructura de Máquinas
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Inicio
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Laboratorios
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Laboratorios
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/lab00/" class="md-nav__link">
        00: Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/lab01/" class="md-nav__link">
        01: C y CGDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/lab02/" class="md-nav__link">
        02: C y MM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/lab03/" class="md-nav__link">
        03: RISCV
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../labs/lab05/" class="md-nav__link">
        04: Logisim
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Proyectos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Proyectos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          01: Snake (Culebrita)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        01: Snake (Culebrita)
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objetivos" class="md-nav__link">
    Objetivos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requisitos-de-conocimiento" class="md-nav__link">
    Requisitos de Conocimiento
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lecturas-recomendadas" class="md-nav__link">
    Lecturas Recomendadas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduccion" class="md-nav__link">
    Introducción
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparacion" class="md-nav__link">
    Preparación
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resumen-conceptual-de-snake" class="md-nav__link">
    Resumen Conceptual de Snake
  </a>
  
    <nav class="md-nav" aria-label="Resumen Conceptual de Snake">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#snakes" class="md-nav__link">
    Snakes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enumerando-las-serpientes" class="md-nav__link">
    Enumerando las serpientes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tablero" class="md-nav__link">
    Tablero
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estructura-del-proyecto" class="md-nav__link">
    Estructura del Proyecto
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estructuras-del-juego-en-c" class="md-nav__link">
    Estructuras del Juego en C
  </a>
  
    <nav class="md-nav" aria-label="Estructuras del Juego en C">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#la-estructura-game_state_t" class="md-nav__link">
    La estructura game_state_t
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#la-estructura-snake_t" class="md-nav__link">
    La estructura snake_t
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tarea-1-create_default_state" class="md-nav__link">
    Tarea 1: create_default_state
  </a>
  
    <nav class="md-nav" aria-label="Tarea 1: create_default_state">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#consejos" class="md-nav__link">
    Consejos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pruebas-unitarias" class="md-nav__link">
    Pruebas Unitarias
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tarea-2-free_state" class="md-nav__link">
    Tarea 2: free_state
  </a>
  
    <nav class="md-nav" aria-label="Tarea 2: free_state">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pruebas-unitarias_1" class="md-nav__link">
    Pruebas Unitarias
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tarea-3-print_board" class="md-nav__link">
    Tarea 3: print_board
  </a>
  
    <nav class="md-nav" aria-label="Tarea 3: print_board">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#consejos_1" class="md-nav__link">
    Consejos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pruebas-unitarias_2" class="md-nav__link">
    Pruebas Unitarias
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tarea-4-update_state" class="md-nav__link">
    Tarea 4: update_state
  </a>
  
    <nav class="md-nav" aria-label="Tarea 4: update_state">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tarea-41-funciones-auxiliares" class="md-nav__link">
    Tarea 4.1: Funciones Auxiliares
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarea-42-next_square" class="md-nav__link">
    Tarea 4.2: next_square
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarea-43-update_head" class="md-nav__link">
    Tarea 4.3: update_head
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarea-44-update_tail" class="md-nav__link">
    Tarea 4.4: update_tail
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarea-45-update_state" class="md-nav__link">
    Tarea 4.5: update_state
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tarea-5-load_board" class="md-nav__link">
    Tarea 5: load_board
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tarea-6-initialize_snake" class="md-nav__link">
    Tarea 6: initialize_snake
  </a>
  
    <nav class="md-nav" aria-label="Tarea 6: initialize_snake">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tarea-61-find_head" class="md-nav__link">
    Tarea 6.1: find_head
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarea-62-initialize_snake" class="md-nav__link">
    Tarea 6.2: initialize_snake
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tarea-7-main" class="md-nav__link">
    Tarea 7: main
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solo-por-diversion-juegen-snake" class="md-nav__link">
    Solo por diversión: Juegen snake
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entrega-y-calificacion" class="md-nav__link">
    Entrega y Calificación
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pj02/" class="md-nav__link">
        02: RISCV
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Tutoriales
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Tutoriales
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/install/" class="md-nav__link">
        Máquina Virtual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/git/" class="md-nav__link">
        Git y GitHub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/autograder/" class="md-nav__link">
        Autograder
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objetivos" class="md-nav__link">
    Objetivos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requisitos-de-conocimiento" class="md-nav__link">
    Requisitos de Conocimiento
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lecturas-recomendadas" class="md-nav__link">
    Lecturas Recomendadas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduccion" class="md-nav__link">
    Introducción
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparacion" class="md-nav__link">
    Preparación
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resumen-conceptual-de-snake" class="md-nav__link">
    Resumen Conceptual de Snake
  </a>
  
    <nav class="md-nav" aria-label="Resumen Conceptual de Snake">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#snakes" class="md-nav__link">
    Snakes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enumerando-las-serpientes" class="md-nav__link">
    Enumerando las serpientes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tablero" class="md-nav__link">
    Tablero
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estructura-del-proyecto" class="md-nav__link">
    Estructura del Proyecto
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estructuras-del-juego-en-c" class="md-nav__link">
    Estructuras del Juego en C
  </a>
  
    <nav class="md-nav" aria-label="Estructuras del Juego en C">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#la-estructura-game_state_t" class="md-nav__link">
    La estructura game_state_t
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#la-estructura-snake_t" class="md-nav__link">
    La estructura snake_t
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tarea-1-create_default_state" class="md-nav__link">
    Tarea 1: create_default_state
  </a>
  
    <nav class="md-nav" aria-label="Tarea 1: create_default_state">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#consejos" class="md-nav__link">
    Consejos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pruebas-unitarias" class="md-nav__link">
    Pruebas Unitarias
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tarea-2-free_state" class="md-nav__link">
    Tarea 2: free_state
  </a>
  
    <nav class="md-nav" aria-label="Tarea 2: free_state">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pruebas-unitarias_1" class="md-nav__link">
    Pruebas Unitarias
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tarea-3-print_board" class="md-nav__link">
    Tarea 3: print_board
  </a>
  
    <nav class="md-nav" aria-label="Tarea 3: print_board">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#consejos_1" class="md-nav__link">
    Consejos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pruebas-unitarias_2" class="md-nav__link">
    Pruebas Unitarias
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tarea-4-update_state" class="md-nav__link">
    Tarea 4: update_state
  </a>
  
    <nav class="md-nav" aria-label="Tarea 4: update_state">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tarea-41-funciones-auxiliares" class="md-nav__link">
    Tarea 4.1: Funciones Auxiliares
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarea-42-next_square" class="md-nav__link">
    Tarea 4.2: next_square
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarea-43-update_head" class="md-nav__link">
    Tarea 4.3: update_head
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarea-44-update_tail" class="md-nav__link">
    Tarea 4.4: update_tail
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarea-45-update_state" class="md-nav__link">
    Tarea 4.5: update_state
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tarea-5-load_board" class="md-nav__link">
    Tarea 5: load_board
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tarea-6-initialize_snake" class="md-nav__link">
    Tarea 6: initialize_snake
  </a>
  
    <nav class="md-nav" aria-label="Tarea 6: initialize_snake">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tarea-61-find_head" class="md-nav__link">
    Tarea 6.1: find_head
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tarea-62-initialize_snake" class="md-nav__link">
    Tarea 6.2: initialize_snake
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tarea-7-main" class="md-nav__link">
    Tarea 7: main
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solo-por-diversion-juegen-snake" class="md-nav__link">
    Solo por diversión: Juegen snake
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entrega-y-calificacion" class="md-nav__link">
    Entrega y Calificación
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="proyecto-1-c-snake-culebrita">Proyecto 1: C Snake (Culebrita)</h1>
<h2 id="objetivos">Objetivos</h2>
<ul>
<li>Mejorar sus habilidades de programación en C.</li>
<li>Manejar archivos en C</li>
<li>Manejar estructuras de datos en C</li>
<li>Manejar memoria dinámica en C</li>
<li>Mejorar sus habilidades de depuración en C.</li>
</ul>
<h2 id="requisitos-de-conocimiento">Requisitos de Conocimiento</h2>
<p>Para realizar este proyecto ustedes tienen que tener claros algunos conceptos, de lo contrario será bastante difícil e incómodo empezar a trabajar. Les recomendamos que antes de empezar estén totalmente seguros que dominan al 100% los siguientes puntos:</p>
<ul>
<li>Operaciones aritméticas con signo y sin signo en C.</li>
<li>Type casting en C.</li>
<li>Control de flujo en C (<code>switch</code>, <code>if</code>, etc).</li>
<li>Funciones en C.</li>
<li>Entender qué son las estructuras (<code>struct</code>) en C.</li>
<li>Uso correcto de <code>printf</code>.</li>
<li>Uso correcto del heap (<code>malloc</code>, <code>free</code>, etc).</li>
<li>Uso correcto de archivos (<code>fopen</code>, <code>fgetc</code>, <code>fclose</code>, <code>fseek</code>, etc).</li>
</ul>
<p>Si creen que no tienen claro alguno de estos temas al 100%, por favor no duden en ir a consultar los libros y material correspondiente del curso, por ejemplo <strong>K&amp;R</strong>, es indispensable. En <a href="#lecturas-recomendadas">Lecturas Recomendadas</a> pueden encontrar algunas lecturas que tocan los puntos antes mencionados y otras cosas que también les pueden servir, nunca está demás tener un poco más de información.</p>
<h2 id="lecturas-recomendadas">Lecturas Recomendadas</h2>
<p><img alt="KR" src="/assets/img/KR.jpg" /></p>
<ul>
<li>K&amp;R: Capitulos del 1-6</li>
</ul>
<h2 id="introduccion">Introducción</h2>
<p>Bienvenidos al primer proyecto de CC3! En este proyecto ustedes van a ganar un poco más de experiencia programando en C, creando un juego de <strong>Snake</strong> (<em>Culebrita</em>) (para aquellos que todavía tuvieron un legendario Nokia 3410). Si no estan familiarizados con el juego, pueden probar una versión online <a href="https://www.xarg.org/project/html5-snake/">aquí</a>.</p>
<p>Todo el contenido visto hasta el primer parcial se va a usar en este proyecto, por lo que es importante que sepan que es lo que están haciendo y por qué lo están haciendo.</p>
<h2 id="preparacion">Preparación</h2>
<p><strong>Antes de comenzar asegúrense de que hayan <span style="color: red">leído y comprendido</span> todas las instrucciones del proyecto de principio a fin</strong>. Si tienen alguna pregunta pueden consultar la sección de preguntas frecuentes para ver si ya ha sido resuelta, de lo contrario por favor diríjanse a <strong>Telegram</strong> y pregunten de forma directa o en general.</p>
<p>Para comenzar con el proyecto, primero tienen que tener todos los archivos base, estos se encuentran <a href="https://classroom.github.com/a/tPolMhuL">aquí</a>. Tienen permitido trabajar en parejas o de forma individual, por lo que al aceptar la asignación les preguntará si desean crear un grupo nuevo o unirse a uno ya existente. Si crean un grupo nuevo, ingresen un nombre que represente al grupo y que no esté ya en los grupos existentes.</p>
<p><img alt="Create group" src="/assets/img/projs/proj01/classroom1.png" /></p>
<p>Si desean unirse a un grupo ya creado, tienen que buscar el nombre del grupo y pulsar el botón que dice <strong>join</strong></p>
<p><img alt="Join group" src="/assets/img/projs/proj01/classroom2.png" /></p>
<p><strong>Tienen que tener mucho cuidado al unirse a un grupo ya existente, ya que esto no se puede cambiar después, además lo consideraremos como <span style="color: red">PLAGIO</span> si lo realizan de manera incorrecta, ya que al hacer esto pueden tener acceso al repositorio del otro miembro del grupo.</strong></p>
<p>Ya sea que se unan o creen un nuevo grupo, al finalizar el proceso les creará automáticamente un repositorio con una extensión que termina con su nombre de grupo. Ya habiendo hecho todo eso, pueden ejecutar los siguientes comandos abriendo una terminal (<kbd >CTRL</kbd> <kbd>+</kbd> <kbd>T</kbd>):</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>&lt;link<span class="w"> </span>del<span class="w"> </span>repositorio&gt;
</code></pre></div>
<blockquote>
<p><strong>NOTA</strong>: Tienen que reemplazar &lt;link del repositorio> con el link del repositorio que se creó.</p>
</blockquote>
<h2 id="resumen-conceptual-de-snake">Resumen Conceptual de Snake</h2>
<p>El juego de Snake es un juego de arcade clásico que consiste en controlar una serpiente que se mueve por una pantalla y que tiene que comer frutas para crecer. El objetivo del juego es crecer lo más grande posible sin chocar con las paredes o con la propia serpiente. El juego termina cuando la serpiente choca con una pared o con su propio cuerpo (o con otra serpiente en multijugador).</p>
<h3 id="snakes">Snakes</h3>
<p>A snake game can be represented by a grid of characters. The grid contains walls, fruits, and one or more snakes. An example of a game is shown below:</p>
<p>Un juego de Snake puede ser representado por una cuadrícula de caracteres. La cuadrícula contiene paredes, frutas, y una o más serpientes. Un ejemplo de un juego se muestra a continuación:</p>
<div class="highlight"><pre><span></span><code>##############
#            #
#    dv      #
#     v   #  #
#     v   #  #
#   s &gt;&gt;D #  #
#   v     #  #
# *A&lt;  *  #  #
#            #
##############
</code></pre></div>
<p>La cuadrícula tiene los siguientes caracteres especiales:</p>
<ul>
<li><code>#</code> denota una pared.</li>
<li><code>(espacio)</code> denota un espacio vacío.</li>
<li><code>*</code> denota una fruta.</li>
<li><code>wasd</code> denota la cola de una serpiente.</li>
<li><code>^&lt;v&gt;</code> denota el cuerpo de una serpiente.</li>
<li><code>WASD</code> denota la cabeza de una serpiente.</li>
<li><code>x</code> denota la cabeza de una serpiente que ha muerto.</li>
</ul>
<p>Cada caracter de la serpiente le dice a ustedes qué dirección está tomando la serpiente en ese momento:</p>
<ul>
<li><code>w</code>, <code>W</code>, o <code>^</code> denota arriba</li>
<li><code>a</code>, <code>A</code>, o <code>&lt;</code> denota izquierda</li>
<li><code>s</code>, <code>S</code>, o <code>v</code> denota abajo</li>
<li><code>d</code>, <code>D</code>, o <code>&gt;</code> denota derecha</li>
</ul>
<p>En cada paso de tiempo, cada serpiente se mueve de acuerdo con las siguientes reglas:</p>
<ul>
<li>Cada serpiente se mueve un paso en la dirección de su cabeza.</li>
<li>Si la cabeza choca con el cuerpo de una serpiente o con una pared, la serpiente muere y deja de moverse. Cuando una serpiente muere, la cabeza se reemplaza con una x.</li>
<li>Si la cabeza se mueve a una fruta, la serpiente come la fruta y crece en 1 unidad de longitud. Cada vez que se consume una fruta, se genera una nueva fruta en el tablero.</li>
</ul>
<p>En el ejemplo de arriba, después de un paso de tiempo, el tablero se verá así:</p>
<div class="highlight"><pre><span></span><code>##############
#         *  #
#     s      #
#     v   #  #
#     v   #  #
#   s &gt;&gt;&gt;D#  #
#   v     #  #
# A&lt;&lt;  *  #  #
#            #
##############
</code></pre></div>
<p>Después de otro paso de tiempo, el tablero se verá así:</p>
<div class="highlight"><pre><span></span><code>##############
#         *  #
#     s      #
#     v   #  #
#     v   #  #
#     &gt;&gt;&gt;x#  #
#   s     #  #
#A&lt;&lt;&lt;  *  #  #
#            #
##############
</code></pre></div>
<p>Se garantiza que las serpientes tengan una longitud inicial de 3, y que no se superpongan en el tablero.</p>
<h3 id="enumerando-las-serpientes">Enumerando las serpientes</h3>
<p>Cada serpiente en el tablero está numerada dependiendo de la posición de su cola, en el orden en que las colas aparecen en el archivo (de arriba hacia abajo, luego de izquierda a derecha). Por ejemplo, consideren el siguiente tablero con cuatro serpientes:</p>
<div class="highlight"><pre><span></span><code>#############
#  s  d&gt;&gt;D  #
#  v   A&lt;a  #
#  S    W   #
#       ^   #
#       w   #
#############
</code></pre></div>
<p>La serpiente 0 es la serpiente con cola s, la serpiente 1 tiene cola d, la serpiente 2 tiene cola a y la serpiente 3 tiene cola w.</p>
<p>Una vez que las serpientes están numeradas desde sus posiciones iniciales, el numerado de las serpientes no cambia durante todo el juego.</p>
<h3 id="tablero">Tablero</h3>
<p>Un tablero de juego es una cuadrícula de caracteres, no necesariamente rectangular. Aquí hay un ejemplo de un tablero no rectangular:</p>
<div class="highlight"><pre><span></span><code>##############
#            #######
#####             ##
#   #             ##
#####             ######
#                 ##   #
#                 ######
#                 ##
#                  #
#      #####       #
########   #########
</code></pre></div>
<p>Tengan en cuenta que cada fila puede tener un número diferente de caracteres, pero comenzará y terminará con una pared (#). También pueden asumir que el tablero es un espacio cerrado, por lo que las serpientes no pueden viajar infinitamente lejos en ninguna dirección.</p>
<h2 id="estructura-del-proyecto">Estructura del Proyecto</h2>
<div class="highlight"><pre><span></span><code>.
├──<span class="w"> </span>LICENSE
├──<span class="w"> </span>Makefile
├──<span class="w"> </span>README.md
├──<span class="w"> </span>src
│<span class="w">   </span>├──<span class="w"> </span>asserts.c
│<span class="w">   </span>├──<span class="w"> </span>asserts.h
│<span class="w">   </span>├──<span class="w"> </span>custom_tests.c
│<span class="w">   </span>├──<span class="w"> </span>interactive_snake.c
│<span class="w">   </span>├──<span class="w"> </span>snake.c
│<span class="w">   </span>├──<span class="w"> </span>snake_utils.c
│<span class="w">   </span>├──<span class="w"> </span>snake_utils.h
│<span class="w">   </span>├──<span class="w"> </span>state.c
│<span class="w">   </span>├──<span class="w"> </span>state.h
│<span class="w">   </span>└──<span class="w"> </span>unit_tests.c
├──<span class="w"> </span>tests
└──<span class="w"> </span>tools
</code></pre></div>
<p>Los únicos archivos que pueden modificar son:</p>
<ul>
<li><code>snake.c</code>: Este el archivo que contiene la funcion main para correr su juego.</li>
<li><code>state.c</code>: Este el archivo donde estara toda la logica del juego.</li>
<li><code>custom_tests.c</code>: Este el archivo que tendra sus pruebas.</li>
</ul>
<p><strong>Ustedes <span style="color: red">NO</span> pueden crear otros archivos ni crear archivos de cabecera <code>.h</code>. Si necesitan agregar funciones de ayuda, por favor colóquenlas en los archivos C correspondientes (<code>state.c</code>, <code>snake.c</code>). Si ustedes no siguen estas instrucciones, obtendrán 0 como nota aunque su proyecto corra perfectamente en su computadora</strong>.</p>
<p>Otros archivos que necesitan consultar detenidamente para entender el proyecto:</p>
<ul>
<li><code>snake_utils.h</code>: Este archivo contiene funciones de ayuda para el proyecto.</li>
<li><code>snake_utils.c</code>: Este archivo contiene las implementaciones de las funciones de ayuda para el proyecto.</li>
<li><code>state.h</code>: Este archivo contiene la definición de la estructura <code>state</code> y <code>snake</code> y las funciones que se pueden utilizar para manipularla.</li>
<li><code>asserts.c</code>: Este archivo contiene las funciones de ayuda para realizar las pruebas unitarias.</li>
<li><code>asserts.h</code>: Este archivo contiene las definiciones de las funciones de ayuda para realizar las pruebas unitarias.</li>
</ul>
<p>Archivos que no es necesario que los revisen, pero si son curiosos:</p>
<ul>
<li><code>unit_tests.c</code>: Este archivo contiene las pruebas unitarias que se corren con el comando <code>make run-unit-tests</code>.</li>
<li><code>interactive_snake.c</code>: Este archivo contiene el código para correr el juego en modo interactivo.</li>
</ul>
<h2 id="estructuras-del-juego-en-c">Estructuras del Juego en C</h2>
<p>El juego de serpientes en C va a estar representado por dos estructuras de datos: <code>game_state_t</code> y <code>snake_t</code>.</p>
<h3 id="la-estructura-game_state_t">La estructura <code>game_state_t</code></h3>
<p>Un juego de serpientes se almacena en memoria en una estructura de datos <code>game_state_t</code>. La estructura contiene los siguientes campos:</p>
<ul>
<li><code>unsigned int num_rows</code>: El número de filas en el tablero de juego.</li>
<li><code>char ** board</code>: El tablero de juego en memoria. Cada elemento del arreglo <code>board</code> es un puntero a un arreglo de caracteres que contiene una fila del tablero.</li>
<li><code>unsigned int num_snakes</code>: El número de serpientes en el tablero.</li>
<li><code>snake_t *snakes</code>: Un arreglo de estructuras <code>snake_t</code>.</li>
</ul>
<h3 id="la-estructura-snake_t">La estructura <code>snake_t</code></h3>
<p>La estructura <code>snake_t</code> contiene los siguientes campos:</p>
<ul>
<li><code>unsigned int tail_row</code>: La fila de la cola de la serpiente.</li>
<li><code>unsigned int tail_col</code>: La columna de la cola de la serpiente.</li>
<li><code>unsigned int head_row</code>: La fila de la cabeza de la serpiente.</li>
<li><code>unsigned int head_col</code>: La columna de la cabeza de la serpiente.</li>
<li><code>bool live</code>: <code>true</code> si la serpiente está viva, y <code>false</code> si la serpiente está muerta.</li>
</ul>
<p>Por favor no modifiquen las definiciones de las estructuras provistas. Ustedes solo necesitan modificar <code>state.c</code>, <code>snake.c</code> y <code>custom_tests.c</code> en este proyecto.</p>
<h2 id="tarea-1-create_default_state">Tarea 1: <code>create_default_state</code></h2>
<p>Implement the create_default_state function in state.c. This function should create a default snake game in memory with the following starting state (which you can hardcode), and return a pointer to the newly created game_state_t struct.</p>
<p>Implementar la función <code>create_default_state</code> en <code>state.c</code>. Esta función debe crear un juego de serpientes predeterminado en memoria con el siguiente estado inicial (que puede quemar), y devolver un puntero a la nueva estructura <code>game_state_t</code> creada.</p>
<div class="highlight"><pre><span></span><code>####################
#                  #
# d&gt;D    *         #
#                  #
#                  #
#                  #
#                  #
#                  #
#                  #
#                  #
#                  #
#                  #
#                  #
#                  #
#                  #
#                  #
#                  #
####################
</code></pre></div>
<h3 id="consejos">Consejos</h3>
<ul>
<li>El tablero tiene 18 filas, y cada fila tiene 20 columnas. La fruta está en la fila 2, columna 9 (indexada desde cero). La cola está en la fila 2, columna 2, y la cabeza está en la fila 2, columna 4.</li>
<li>¿En qué parte de la memoria (código, estática, pila, heap) deben almacenar el nuevo juego?</li>
<li><code>strcpy</code> puede ser útil.</li>
</ul>
<h3 id="pruebas-unitarias">Pruebas Unitarias</h3>
<p>Pueden correr <code>make run-unit-tests</code> para verificar su implementación para cada tarea. Tengan en cuenta que las pruebas unitarias no son exhaustivas, y pasarlas no garantiza que su implementación esté completamente correcta. Sin embargo, deberían ser útiles para ayudarlos a comenzar a depurar.</p>
<p>Si su implementación no funciona, es hora de comenzar a depurar. Pueden agregar declaraciones printf en su código para imprimir variables durante la ejecución del código, y luego ejecutar make run-unit-tests nuevamente para ver la salida de sus declaraciones de impresión.</p>
<p>Tambien, pueden usar <code>make debug-unit-tests</code> para comenzar CGDB. En CGDB, pueden establecer un punto de interrupción en su propio código (sugerencia: consulten la tarjeta de referencia de GDB para saber cómo establecer un punto de interrupción en un archivo diferente). Luego, escriba <code>run</code> o <code>r</code> para iniciar el programa, y se detendrá en su punto de interrupción.</p>
<p>Consejo: Si ven "Segmentation fault (core dumped)", esto significa que su programa se bloqueó. Una forma de comenzar a depurar es comenzar CGDB, ejecutar el programa sin puntos de interrupción y luego escribir backtrace o bt para ver en qué línea de código el programa se bloqueó.</p>
<h2 id="tarea-2-free_state">Tarea 2: <code>free_state</code></h2>
<p>Implementar la función <code>free_state</code> en <code>state.c</code>. Esta función debe liberar toda la memoria asignada para el estado dado, incluidas todas las estructuras de serpiente y todos los contenidos de <code>map-&gt;board</code>. ¿Se recuerdan del ejemplo que vimos en clase? ...</p>
<h3 id="pruebas-unitarias_1">Pruebas Unitarias</h3>
<p>Para probar si liberamos correctamente la memoria para el estado del juego, ejecuten <code>make valgrind-test-free-state</code> para verificar si hay fugas de memoria. Si no hay fugas, entonces ha pasado la prueba unitaria para esta tarea.</p>
<h2 id="tarea-3-print_board">Tarea 3: <code>print_board</code></h2>
<p>Implementar la función <code>print_board</code> en <code>state.c</code>. Esta función debe imprimir el tablero de juego dado en el puntero de archivo dado.</p>
<h3 id="consejos_1">Consejos</h3>
<ul>
<li><code>fprintf</code> les ayudará a imprimir caracteres y / o cadenas en un puntero de archivo dado.</li>
</ul>
<h3 id="pruebas-unitarias_2">Pruebas Unitarias</h3>
<p>Corran <code>make run-unit-tests</code> y <code>make debug-unit-tests</code> para probar y depurar, como antes.</p>
<p>Si su función se ejecuta con éxito (no se bloquea ni se termina), pero no imprime la salida correcta, el tablero que imprimió estará en <code>unit-test-out.snk</code>. Un tablero impreso correctamente debe coincidir con el tablero predeterminado de la tarea 1.</p>
<h2 id="tarea-4-update_state">Tarea 4: <code>update_state</code></h2>
<p>Implementar la función <code>update_state</code> en <code>state.c</code>. Esta función debe mover las serpientes un paso de tiempo de acuerdo con las reglas del juego.</p>
<p>Son libres de implementar esta función como quieran, pero si lo desean, pueden trabajar a través de esta tarea implementando las funciones auxiliares que les hemos proporcionado. Las funciones auxiliares no se califican; para esta tarea, solo verificaremos que <code>update_state</code> esté correcto.</p>
<h3 id="tarea-41-funciones-auxiliares">Tarea 4.1: Funciones Auxiliares</h3>
<p>Les hemos proporcionado las siguientes definiciones de funciones auxiliares que pueden implementar. Estas funciones son completamente independientes de cualquier tablero de juego o serpiente; solo toman un solo carácter y devuelven información sobre ese carácter.</p>
<ul>
<li><code>bool is_tail(char c)</code>: Devuelve verdadero si <code>c</code> es parte de la cola de la serpiente. La cola de la serpiente consta de estos caracteres: <code>wasd</code>. Devuelve falso de lo contrario.</li>
<li><code>bool is_head(char c)</code>: Devuelve verdadero si <code>c</code> es parte de la cabeza de la serpiente. La cabeza de la serpiente consta de estos caracteres: <code>WASDx</code>. Devuelve falso de lo contrario.</li>
<li><code>bool is_snake(char c)</code>: Devuelve verdadero si <code>c</code> es parte de la serpiente. La serpiente consta de estos caracteres: <code>wasd^&lt;v&gt;WASDx</code>. Devuelve falso de lo contrario.</li>
<li><code>char body_to_tail(char c)</code>: Convierte un carácter en el cuerpo de la serpiente (<code>^&lt;v&gt;</code>) en el carácter que representa la cola de la serpiente (<code>wasd</code>). La salida puede ser indefinida para caracteres que no son el cuerpo de una serpiente.</li>
<li><code>char head_to_body(char c)</code>: Convierte un carácter en la cabeza de la serpiente (<code>WASD</code>) en el carácter que representa el cuerpo de la serpiente (<code>^&lt;v&gt;</code>). La salida puede ser indefinida para caracteres que no son la cabeza de una serpiente.</li>
<li><code>unsigned int get_next_row(unsigned int cur_row, char c)</code>: Devuelve <code>cur_row + 1</code> si <code>c</code> es <code>v</code> o <code>s</code> o <code>S</code>. Devuelve <code>cur_row - 1</code> si <code>c</code> es <code>^</code> o <code>w</code> o <code>W</code>. Devuelve <code>cur_row</code> de lo contrario.</li>
<li><code>unsigned int get_next_col(unsigned int cur_col, char c)</code>: Devuelve <code>cur_col + 1</code> si <code>c</code> es <code>&gt;</code> o <code>d</code> o <code>D</code>. Devuelve <code>cur_col - 1</code> si <code>c</code> es <code>&lt;</code> o <code>a</code> o <code>A</code>. Devuelve <code>cur_col</code> de lo contrario.</li>
</ul>
<p>Pruebas unitarias no se proporcionan para estas funciones auxiliares, por lo que tendrán que escribir sus propias pruebas en <code>custom_tests.c</code> para asegurarse de que estas estén funcionando como se espera. ¡Asegúrense de que estas pruebas prueben exhaustivamente sus funciones auxiliares!</p>
<p>Cuando escriban una prueba unitaria, la función de prueba debe devolver falso si la prueba falla y verdadero si la prueba pasa. Pueden usar <code>printf</code> para imprimir declaraciones de depuración. Algunas de las funciones auxiliares de aserción en <code>asserts.h</code> pueden ser útiles.</p>
<p>Una vez que hayan escrito sus propias pruebas unitarias, pueden ejecutarlas con <code>make run-custom-tests</code> y <code>make debug-custom-tests</code>.</p>
<h3 id="tarea-42-next_square">Tarea 4.2: <code>next_square</code></h3>
<p>Implementar la función auxiliar <code>next_square</code> en <code>state.c</code>. Esta función devuelve el carácter en la celda en la que se está moviendo la serpiente dada. Esta función no debe modificar nada en el juego almacenado en memoria.</p>
<p>Como ejemplo, consideren el siguiente tablero:</p>
<div class="highlight"><pre><span></span><code>##############
#            #
#            #
#            #
#   d&gt;D*     #
#            #
#       s    #
#       v    #
#       S    #
##############
</code></pre></div>
<p>Asumiendo que <code>state</code> es un puntero a este estado del juego, entonces <code>next_square(state, 0)</code> debería devolver <code>*</code>, porque la cabeza de la serpiente 0 se está moviendo a una celda con <code>_</code> en ella. De manera similar, <code>next_square(state, 1)</code> debería devolver <code>#</code> para la serpiente 1.</p>
<p>Las funciones auxiliares que escribieron anteriormente pueden ser útiles para esta función (y el resto de esta tarea también). También echen un vistazo a <code>get_board_at</code> y <code>set_board_at</code>, que son funciones auxiliares que escribimos para ustedes.</p>
<p>Utilicen <code>make run-unit-tests</code> y <code>make debug-unit-tests</code> para ejecutar las pruebas unitarias proporcionadas. También pueden usar <code>p print_board(state, stdout)</code> para imprimir todo su tablero mientras depuran en <code>cgdb</code>.</p>
<h3 id="tarea-43-update_head">Tarea 4.3: <code>update_head</code></h3>
<p>Implementar la función <code>update_head</code> en <code>state.c</code>. Esta función actualizará la cabeza de la serpiente.</p>
<p>Recuerden que necesitarán actualizar la cabeza tanto en el tablero de juego como en la estructura de serpiente. En el tablero de juego, agreguen un carácter donde la serpiente se está moviendo. En la estructura de serpiente, actualicen la fila y la columna de la cabeza.</p>
<p>Como ejemplo, consideren el siguiente tablero:</p>
<div class="highlight"><pre><span></span><code>##############
#   d&gt;D      #
#        *   #
#        W   #
#        ^   #
#        ^   #
#        w   #
#            #
#            #
##############
</code></pre></div>
<p>Asumiendo que <code>state</code> es un puntero a este estado del juego, entonces <code>update_head(state, 0)</code> moverá la cabeza de la serpiente 0, dejando todas las otras serpientes sin cambios. En la estructura de serpiente correspondiente a la serpiente 0, el valor <code>head_col</code> debería actualizarse de 6 a 7, y el valor <code>head_row</code> debería mantenerse sin cambios en 1. El nuevo tablero se verá así:</p>
<div class="highlight"><pre><span></span><code>##############
#   d&gt;&gt;D     #
#        *   #
#        W   #
#        ^   #
#        ^   #
#        w   #
#            #
#            #
##############
</code></pre></div>
<p>Noten que esta función ignora la comida, las paredes y los cuerpos de las serpientes cuando mueve la cabeza.</p>
<p>Usen <code>make run-unit-tests</code> y <code>make debug-unit-tests</code> para ejecutar las pruebas unitarias proporcionadas. También pueden usar <code>p print_board(state, stdout)</code> para imprimir todo su tablero mientras depuran en <code>cgdb</code>.</p>
<h3 id="tarea-44-update_tail">Tarea 4.4: <code>update_tail</code></h3>
<p>Implementar la función <code>update_tail</code> en <code>state.c</code>. Esta función actualizará la cola de la serpiente.</p>
<p>Recurden que necesitarán actualizar la cola tanto en el tablero de juego como en la estructura de serpiente. En el tablero de juego, borren el carácter actual de la cola, y cambien la nueva cola de un carácter de cuerpo (<code>^&lt;v&gt;</code>) a un carácter de cola (<code>wasd</code>). En la estructura de serpiente, actualicen la fila y la columna de la cola.</p>
<p>Como ejemplo, consideren el siguiente tablero:</p>
<div class="highlight"><pre><span></span><code>##############
#   d&gt;D      #
#        *   #
#        W   #
#        ^   #
#        ^   #
#        w   #
#            #
#            #
##############
</code></pre></div>
<p>Asumiendo que <code>state</code> es un puntero a este estado del juego, entonces <code>update_tail(state, 1)</code> moverá la cola de la serpiente 1, dejando todas las otras serpientes sin cambios. En la estructura de serpiente correspondiente a la serpiente 1, el valor <code>tail_row</code> debería actualizarse de 6 a 5, y el valor <code>tail_col</code> debería mantenerse sin cambios en 9. El nuevo tablero se verá así:</p>
<div class="highlight"><pre><span></span><code>##############
#   d&gt;D      #
#        *   #
#        W   #
#        ^   #
#        w   #
#            #
#            #
#            #
##############
</code></pre></div>
<p>Usen <code>make run-unit-tests</code> y <code>make debug-unit-tests</code> para ejecutar las pruebas unitarias proporcionadas. También pueden usar <code>p print_board(state, stdout)</code> para imprimir todo su tablero mientras depuran en <code>cgdb</code>.</p>
<h3 id="tarea-45-update_state">Tarea 4.5: <code>update_state</code></h3>
<p>Usen las funciones auxiliares que crearon para implementar <code>update_state</code> en <code>state.c</code>.</p>
<p>Como recordatorio, las reglas para mover una serpiente son las siguientes:</p>
<ul>
<li>Cada serpiente se mueve un paso en la dirección de su cabeza.</li>
<li>Si la cabeza choca con el cuerpo de una serpiente o con una pared, la serpiente muere y deja de moverse. Cuando una serpiente muere, la cabeza se reemplaza con una x.</li>
<li>Si la cabeza se mueve a una fruta, la serpiente come la fruta y crece en 1 unidad de longitud. (Pueden implementar crecer en 1 unidad actualizando la cabeza sin actualizar la cola.) Cada vez que se consume una fruta, se genera una nueva fruta en el tablero.</li>
</ul>
<p>El argumento <code>int (*add_food)(game_state_t *state)</code> es un puntero a función, lo que significa que <code>add_food</code> es un puntero al código de memoria. El código al que <code>add_food</code> apunta es una función que toma <code>game_state_t *state</code> como argumento y devuelve un <code>int</code>. Pueden llamar a esta función con <code>add_food(x)</code>, reemplazando <code>x</code> con su argumento, para agregar una fruta al tablero.</p>
<p>Usen <code>make run-unit-tests</code> y <code>make debug-unit-tests</code> para ejecutar las pruebas unitarias proporcionadas. También pueden usar <code>p print_board(state, stdout)</code> para imprimir todo su tablero mientras depuran en <code>cgdb</code>.</p>
<h2 id="tarea-5-load_board">Tarea 5: <code>load_board</code></h2>
<p>Implementar la función <code>load_board</code> en <code>state.c</code>. Esta función leerá un tablero de juego de un archivo en memoria.</p>
<p>Recuerden que cada fila del tablero de juego puede tener una cantidad diferente de columnas. Su implementación debe ser eficiente en memoria y no debe asignar más memoria de la necesaria para almacenar el tablero. Por ejemplo, si una fila tiene 3 caracteres de largo, no deberían asignar 100 bytes de espacio para esa fila. Recomendamos encarecidamente no usar <code>getline</code> ya que no es eficiente en memoria y probablemente fallará las pruebas del autograder.</p>
<p>La tarea 5 y 6 combinadas crearán una estructura <code>game_state_t</code> en memoria con todos sus campos configurados. En esta tarea, configuren <code>num_snakes</code> a 0 y el arreglo <code>snakes</code> a <code>NULL</code>, ya que estos serán inicializados en la tarea 6.</p>
<p>Usen <code>make run-unit-tests</code> y <code>make debug-unit-tests</code> para ejecutar las pruebas unitarias proporcionadas. También pueden usar <code>p print_board(state, stdout)</code> para imprimir todo su tablero mientras depuran en <code>cgdb</code>.</p>
<h2 id="tarea-6-initialize_snake">Tarea 6: <code>initialize_snake</code></h2>
<p>Implementen la función <code>initialize_snake</code> en <code>state.c</code>. Esta función tomará un tablero de juego y creará el arreglo de estructuras <code>snake_t</code>.</p>
<p>Son libres de implementar esta función como quieran, pero si quieren, pueden trabajar en esta tarea implementando la función auxiliar que les proporcionamos.</p>
<h3 id="tarea-61-find_head">Tarea 6.1: <code>find_head</code></h3>
<p>Implementar la función <code>find_head</code> en <code>state.c</code>. Dada una estructura <code>snake_t</code> con la fila y columna de la cola rellenadas, esta función rastrea a través del tablero para encontrar la fila y columna de la cabeza, y rellena la fila y columna de la cabeza en la estructura.</p>
<p>Como ejemplo, consideren el siguiente tablero:</p>
<div class="highlight"><pre><span></span><code>##############
#            #
#        *   #
#            #
#   d&gt;v      #
#     v      #
#  W  v      #
#  ^&lt;&lt;&lt;      #
#            #
##############
</code></pre></div>
<p>Asumiendo que <code>state</code> es un puntero a este estado del juego, entonces <code>find_head(state, 0)</code> llenará los campos <code>head_row</code> y <code>head_col</code> de la estructura de serpiente 0 con 6 y 3, respectivamente.</p>
<p>Usen <code>make run-unit-tests</code> y <code>make debug-unit-tests</code> para ejecutar las pruebas unitarias proporcionadas. También pueden usar <code>p print_board(state, stdout)</code> para imprimir todo su tablero mientras depuran en <code>cgdb</code>.</p>
<h3 id="tarea-62-initialize_snake">Tarea 6.2: <code>initialize_snake</code></h3>
<p>Usando <code>find_head</code>, implementen la función <code>initialize_snake</code> en <code>state.c</code>. Pueden asumir que el estado pasado a esta función es el resultado de llamar a <code>load_board</code>, pero no pueden asumir que el arreglo <code>snakes</code> esté definido. Esto significa que los campos relacionados con el tablero ya están llenos, y solo necesitan llenar <code>num_snakes</code> y crear el arreglo <code>snakes</code>.</p>
<p>Pueden asumir que todas las serpientes en el tablero comienzan vivas.</p>
<p>Usen <code>make run-unit-tests</code> y <code>make debug-unit-tests</code> para ejecutar las pruebas unitarias proporcionadas. También pueden usar <code>p print_board(state, stdout)</code> para imprimir todo su tablero mientras depuran en <code>cgdb</code>.</p>
<h2 id="tarea-7-main">Tarea 7: <code>main</code></h2>
<p>Usando las funciones que implementaron en todas las tareas anteriores, llenen los espacios en blanco en <code>snake.c</code>. Cada vez que se ejecute el programa <code>snake.c</code>, el tablero se actualizará en un paso de tiempo.</p>
<p>To test your full implementation, run make run-integration-tests.</p>
<p>Prueben su implementación completa ejecutando <code>make run-integration-tests</code>.</p>
<p>To debug your implementation, run cgdb --args ./snake -i tests/TESTNAME-in.snk -o tests/TESTNAME-out.snk. To check for memory leaks or out-of-bounds reads/writes, you can run valgrind ./snake -i tests/TESTNAME-in.snk -o tests/TESTNAME-out.snk. Replace TESTNAME with one of the test names in the tests folder:</p>
<p>Para depurar su implementación, ejecuten <code>cgdb --args ./snake -i tests/TESTNAME-in.snk -o tests/TESTNAME-out.snk</code>. Para verificar fugas de memoria o lecturas / escrituras fuera de los límites, pueden ejecutar <code>valgrind ./snake -i tests/TESTNAME-in.snk -o tests/TESTNAME-out.snk</code>. Reemplacen <code>TESTNAME</code> con uno de los nombres de prueba en la carpeta tests:</p>
<ul>
<li><code>01-simple</code></li>
<li><code>02-direction</code></li>
<li><code>03-tail</code></li>
<li><code>04-food</code></li>
<li><code>05-wall</code></li>
<li><code>06-small</code></li>
<li><code>07-medium</code></li>
<li><code>08-multisnake</code></li>
<li><code>09-everything</code></li>
<li><code>10-filled</code></li>
<li><code>11-manyclose</code></li>
<li><code>12-corner</code></li>
<li><code>13-sus</code></li>
<li><code>14-orochi</code></li>
<li><code>15-hydra</code></li>
<li><code>16-huge</code></li>
<li><code>17-wide</code></li>
<li><code>18-tall</code></li>
<li><code>19-101-127</code></li>
<li><code>20-long-line</code></li>
<li><code>21-bigL</code></li>
</ul>
<p>Tambien pueden correr <code>make run-nonexistent-input-file-test</code> para asegurarse que su programa salga con el código de error <code>-1</code> si el archivo de entrada no existe.</p>
<h2 id="solo-por-diversion-juegen-snake">Solo por diversión: Juegen snake</h2>
<p>Ahora pueden jugar un juego con el código que escribieron ejecutando <code>make interactive-snake</code> seguido de <code>./interactive-snake</code>. ¡Usen las teclas wasd para controlar su serpiente!</p>
<p>Para acelerar o ralentizar el juego, pueden ejecutar <code>./interactive-snake -d 0.5</code> (reemplazando 0.5 con el número de segundos entre pasos de tiempo). Durante el juego, también pueden presionar <code>]</code> para moverse más rápido y <code>[</code> para moverse más lentamente.</p>
<h2 id="entrega-y-calificacion">Entrega y Calificación</h2>
<p>Por favor subir el link de su repositorio al GES (<strong>AMBOS</strong> miembros del grupo, si están trabajando en pareja). Siempre es necesario que suban su repositorio al GES, incluso si no completaron todos los ejercicios, de lo contrario la nota será de 0 puntos.</p>
<p>La calificación de este proyecto será de 0 a 100 puntos, donde 100 puntos es la calificación máxima. La calificación se basará en la cantidad de ejercicios completados. Si tienen alguna duda sobre la calificación, por favor envíen un correo a los auxiliares.</p>
<p>Para subir su proyecto al autograder deben hacer lo siguiente, estando en la carpeta del proyecto:</p>
<div class="highlight"><pre><span></span><code>autograder<span class="w"> </span>assignment<span class="w"> </span>submit
</code></pre></div>
<p>Si por alguna razon les pide que ingresen el id de la asignación, pueden ingresar el siguiente id: <code>f9e22078-5fd3-42d1-b8a7-abea44102478</code>.</p>
<p>Una vez suban su proyecto al autograder, les va a salir un mensaje como el siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="w"> </span>_
<span class="p">|</span>-<span class="p">|</span><span class="w">  </span>__
<span class="p">|</span><span class="o">=</span><span class="p">|</span><span class="w"> </span><span class="o">[</span>Ll<span class="o">]</span><span class="w">        </span>Autograder
<span class="s2">&quot;^&quot;</span><span class="w"> </span><span class="o">====</span><span class="sb">`</span><span class="nv">o</span>

<span class="o">=</span>&gt;<span class="w">    </span>Assignment<span class="w"> </span><span class="p">|</span><span class="w"> </span>Submit

✔<span class="w"> </span>Got<span class="w"> </span>assignment<span class="w"> </span>info<span class="w"> </span>successfully!
✔<span class="w"> </span>Files<span class="w"> </span>zipped<span class="w"> </span>successfully!
✔<span class="w"> </span>Files<span class="w"> </span>uploaded<span class="w"> </span>successfully!
✔<span class="w"> </span>Assignment<span class="w"> </span>submitted<span class="w"> </span>successfully!

╔══════════════╤══════════════════════════════════════╗
║<span class="w"> </span>Id<span class="w">           </span>│<span class="w"> </span>e58e7f1c-96ae-477a-8851-77ba16bf7443<span class="w"> </span>║
╟──────────────┼──────────────────────────────────────╢
║<span class="w"> </span>Status<span class="w">       </span>│<span class="w"> </span>SUBMITTED<span class="w">                            </span>║
╟──────────────┼──────────────────────────────────────╢
║<span class="w"> </span>Submitted<span class="w"> </span>At<span class="w"> </span>│<span class="w"> </span><span class="m">10</span><span class="w"> </span>Feb,<span class="w"> </span><span class="m">2023</span><span class="w"> </span><span class="m">06</span>:18:21<span class="w"> </span>pm<span class="w">             </span>║
╚══════════════╧══════════════════════════════════════╝
</code></pre></div>
<p>Para ver el estado de su proyecto pueden hacer lo siguiente:</p>
<div class="highlight"><pre><span></span><code>autograder<span class="w"> </span>submit<span class="w"> </span>last
</code></pre></div>
<p>Si ya está calificado, les va a salir un mensaje como el siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="w"> </span>_
<span class="p">|</span>-<span class="p">|</span><span class="w">  </span>__
<span class="p">|</span><span class="o">=</span><span class="p">|</span><span class="w"> </span><span class="o">[</span>Ll<span class="o">]</span><span class="w">        </span>Autograder
<span class="s2">&quot;^&quot;</span><span class="w"> </span><span class="o">====</span><span class="sb">`</span><span class="nv">o</span>

<span class="o">=</span>&gt;<span class="w">    </span>Submission<span class="w"> </span><span class="p">|</span><span class="w"> </span>Last

Please<span class="w"> </span>enter<span class="w"> </span>the<span class="w"> </span>assignment<span class="w"> </span>id:

?<span class="w"> </span>Assignment<span class="w"> </span>id:<span class="w">  </span>966a5593-4aac-44b3-9c99-bed2f5d77b6e

✔<span class="w"> </span>Got<span class="w"> </span>submission<span class="w"> </span>info<span class="w"> </span>successfully!

╔════════╤══════════════════════════════════════╗
║<span class="w"> </span>Id<span class="w">     </span>│<span class="w"> </span>e58e7f1c-96ae-477a-8851-77ba16bf7443<span class="w"> </span>║
╟────────┼──────────────────────────────────────╢
║<span class="w"> </span>Grade<span class="w">  </span>│<span class="w"> </span><span class="m">100</span><span class="w">                                  </span>║
╟────────┼──────────────────────────────────────╢
║<span class="w"> </span>Status<span class="w"> </span>│<span class="w"> </span>GRADED<span class="w">                               </span>║
╚════════╧══════════════════════════════════════╝

Stdout:

<span class="m">1</span>.<span class="w"> </span>Tasks<span class="w"> </span><span class="m">1</span>-6

...

<span class="m">3</span>.<span class="w"> </span>Task<span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="o">(</span>main<span class="o">)</span>

...
</code></pre></div>
<p>Pueden subir su proyecto 20 veces, pero solo se tomará en cuenta la entrega que tenga la calificación más alta. Si no les gusta la calificación que obtuvieron, pueden volver a subir su laboratorio hasta que obtengan la calificación que desean.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 CC3 AN
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "search.highlight"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.51198bba.min.js"></script>
      
    
  </body>
</html>